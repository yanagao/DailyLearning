# 2019.9.2-2019.9.8

## 2019.9.2

# 从输入URL到页面加载

1、DNS解析

2、TCP连接

3、发送HTTP请求

4、服务器处理请求并返回HTTP报文

5、浏览器解析渲染页面

6、连接结束

## DNS解析
寻找哪台机器上有你需要资源的过程。充当了翻译的角色，实现了网址到IP地址的转换。

网址的解析是从右到左的过程

### DNS优化
DNS缓存：浏览器缓存，系统缓存，路由器缓存，IPS服务器缓存，根域名服务器缓存，顶级域名服务器缓存，主域名服务器缓存。

DNS负载均衡（DNS重定向）：CDN

## TCP连接
传输层协议

### HTTPS协议
本质是HTTP + SSL（或TLS），在HTTP报文进入TCP报文之前，先使用SSL对HTTP报文进行加密。

## HTTP请求
请求行、请求报头、请求正文

请求行： `Method` `Request-URL` `HTTP-VersionCRLF`
常用的方法有： GET，POST，PUT，DELETE，OPTIONS，HEAD

请求报头：允许客户端向服务器传递请求的附加信息和客户端自身的信息。
常见的请求报头有：Accept，Accept-Charset，Accept-Encoding，Accept-Language，Content-Type，Authorization，Cookie，User-Agents

请求正文：Content-Type： application/json

## 服务器处理请求并返回HTTP报文
HTTP响应报文：状态码，响应报头和响应报文

## 2019.9.3

### 状态码
- 1xx：指示信息——表示请求已接收，继续处理
- 2xx：成功
- 3xx：重定向——要完成请求必须进行更进一步的操作
- 4xx：客户端错误——请求有语法错误或请求无法实现
- 5xx：服务器端错误——服务器未能实现合法的请求

### 响应报头
Server，Connection等

### 响应报文
服务器返回给浏览器的文本信息

## 浏览器解析渲染页面
边解析边渲染

1、解析html文件构建dom树

2、解析css文件构建渲染树

3、布局渲染树并绘制

`reflow`（回流）
`repain`（重绘）

js执行机制可以看作一个主线程加任务队列（task queue）。所有同步任务在主线程上执行，形成执行栈；异步任务有了运行结果就会在任务队列中放置一个事件，运行任务队列中的任务，这个过程叫事件循环（`Event loop`）。

css文件的加载不影响js的加载，但影响js的执行

# 其他
## 
1、（for）使用`let` `const`关键字声明的变量是具有块作用域的。每次迭代期间，i将被创建为一个新值，并且每个值都会存在于循环内的块级作用域。

2、一元加号会尝试将boolean类型转换为数字类型

3、在JavaScript中，当设置它们彼此相等时，所有对象都通过引用进行交互。

4、`new Number（）`是一个内置的函数构造函数。 虽然它看起来像一个数字，但它并不是一个真正的数字：它有一堆额外的功能，是一个对象。

5、静态方法仅在创建它们的构造函数中存在，并且不能传递给任何子级。

6、不能像使用常规对象那样向构造函数添加属性。 如果要一次向所有对象添加功能，则必须使用原型。 

7、除`基础对象`外，所有对象都有原型。基础对象的原型是null。

8、我们作为参数传递的对象和我们用于检查相等性的对象在内存中位于不同位置，所以它们的引用是不同的。

9、基本执行上下文是全局执行上下文:它是代码中随处可访问的内容。

10、`.call`方法会立即执行。`.bind`方法会返回函数的拷贝值，但带有绑定的上下文， 它不会立即执行。

11、JavaScript中只有6个假值：
- undefined
- null
- NaN
- 0
- '' (empty string)
- false

函数构造函数，如new Number和new Boolean都是真值。

## 2019.9.5

1、生成器函数可以中途“停下”，再从停下的地方继续。生成器遇到`yield`关键字的时候会生成其后面的值。

2、Promise.race 方法中传入多个`Promise`时，会进行优先解析。

3、`parseInt`检查字符串中的字符是否合法，一旦遇到不合法的立即停止解析，并忽略后面的所有字符

4、`Set`对象：同一个值在其中仅出现一次

5、`delete`操作符返回一个布尔值（删除成功或失败），但通过`var` `const` `let`声明但变量无法删除

6、`defineProperty`方法可以给对象添加一个新属性，或是修改已经存在的属性。